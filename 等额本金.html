<!DOCTYPE html>
<html>
<head>
	<title>Loan calc</title>
<style>
	table, th, td {
		border: 1px solid black;
	}
</style>
</head>

<body>

<button onclick="myFunction()">点击一下，计算等额本金</button>
<br>
<br>
<table id="myTable">
	<tr>
		<td>期数</td>
		<td>月供本金</td>
		<td>月供利息</td>
		<td>月供</td>
		<td>剩余本金</td>
	</tr>		
</table>


<script type="text/javascript">
	function myFunction() {
		var P = new Array();
		var row = new Array();
		var cell = new Array();
		P[0] = 1980000;
		R = 0.0441/12;
		N = 360;

		var table = document.getElementById('myTable');
		for (var i = 1; i <= 360; i++) {
			row[i] = table.insertRow(i);
			for (var j = 0; j < 5; j++) {
				cell[j] = row[i].insertCell(j);
				if (j == 0) {
					cell[j].innerHTML = i;
				}
				if (j == 1) {
					cell[j].innerHTML = (P[0] / N).toFixed(0);
				}
				if (j == 2) {
					cell[j].innerHTML = ( (P[0] - (i-1) * P[0] / N) * R ).toFixed(0);
				}
				if (j == 3) {
					cell[j].innerHTML = (P[0] / N + (P[0] - (i-1) * P[0] / N) * R).toFixed(0);
				}
				if (j == 4) {
					cell[j].innerHTML = ( P[0] - i * P[0] / N ).toFixed(0);
				}
			}
		}
	}
</script>

</body>
</html>